<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.domino.t1.board.qna.QnaDAO">
	
	<insert id="setInsertFile" parameterType="BoardFileDTO">
		insert into qnaFile values(board_seq.nextval, #{board_num}, #{file_Name}, #{ori_Name})
	</insert>

	 <insert id="setInsert" parameterType="QnaDTO">
   		 <selectKey keyProperty="board_num" resultType="Long" order="BEFORE">
   		 	select board_seq.nextval from dual
   		 </selectKey>
   		 	insert into qna values(#{board_num}, #{board_title}, #{board_writer}, #{board_contents}, sysdate,
   		 	 #{email}, #{phone}, #{qna_type}, #{branch_info}, #{order_num}, 0, 0, 0)
   	</insert>
	
</mapper>